class Golondrina {
	var energia = 100

	method energia() = energia
	method capacidadDeVuelo() = 10
}


class Sample {
	method preffix(preffix, numbers...) = numbers.map{n=> preffix + n}
}

class Subject {
	var x = 4
	var y = x * 2

	method getY() = y
}

describe "Method Test" {

	test "Short syntax for methods returning a value" {
		const pepona = new Golondrina()
		assert.equals(pepona.energia(), 100)
		assert.equals(pepona.capacidadDeVuelo(), 10)
	}

	test "varArgsInMethod: var args method must automatically box params as a list" {
		const p = new Sample()
		assert.equals("$1, $2, $3, $4", p.preffix("$", 1, 2, 3, 4).join(", "))
	}

	test "varArgsInMethod: Var args in method with just 1" {
		const p = new Sample()
		assert.equals("#1", p.preffix("#", 1).join(", "))
	}

	test "varArgsInMethod: Var args in method without elements" {
		const p = new Sample()
		assert.equals("", p.preffix("#").join(", "))
	}

	test "Init of variables" {
		var obj = new Subject()
		assert.equals(8, obj.getY())
	}

}
